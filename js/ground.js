"use strict";function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,t){if(r){if("string"==typeof r)return _arrayLikeToArray(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_arrayLikeToArray(r,t):void 0}}function _iterableToArray(r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r))return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _arrayLikeToArray(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,a=new Array(t);e<t;e++)a[e]=r[e];return a}!function(){var r=document.createElement("link");r.href="./css/ground.css",r.rel="stylesheet",document.head.appendChild(r)}();var canvas=document.getElementById("canvas"),context=canvas.getContext("2d"),textInputElem=document.querySelector("#ground .text-input-cont input"),cellSize=10,cellSizeOver2=cellSize/2,cellCountX=40,cellCountY=10;canvas.width=cellSize*cellCountX,canvas.height=cellSize*cellCountY;for(var charArrData={0:[[0,1,1,1,1,1,1,1,1,0],[1,0,0,0,0,0,0,1,0,1],[1,0,0,0,0,0,1,0,0,1],[1,0,0,0,1,1,0,0,0,1],[1,0,0,1,0,0,0,0,0,1],[1,0,1,0,0,0,0,0,0,1],[0,1,1,1,1,1,1,1,1,0]],1:[[0,0,1,0,0,0,0,0,0,1],[0,1,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1],[0,0,0,0,0,0,0,0,0,1],[0,0,0,0,0,0,0,0,0,1]]},nullMatrix=[],i=0;i<cellCountY;i++)nullMatrix.push(0);for(var textDataArr,gapMatrix=[],_i=0;_i<cellCountX+1;_i++)gapMatrix.push(nullMatrix);for(var resetTextArr=function(){var r=textInputElem.value.split("").filter(function(r){return r in charArrData});textDataArr=[].concat(gapMatrix);for(var t=0;t<r.length;t++){textDataArr.push.apply(textDataArr,_toConsumableArray(charArrData[r[t]]).concat([nullMatrix]))}},bulbRadius=cellSize/4,bulbOffColor="#f003",bulbOnColor="#f00",bulbConfigArr=[],_i3=0;_i3<cellCountX;_i3++){bulbConfigArr[_i3]=[];for(var j=0;j<cellCountY;j++)bulbConfigArr[_i3][j]={x:_i3*cellSize+cellSizeOver2,y:j*cellSize+cellSizeOver2}}var textDataArrOffset=0,twoPi=2*Math.PI,dispScrollSpeed=10,renderDisp=function r(){context.clearRect(0,0,canvas.width,canvas.height);for(var t=textDataArrOffset,e=0;e<cellCountX;e++){for(var a=0;a<textDataArr[t].length;a++){context.fillStyle=textDataArr[t][a]?bulbOnColor:bulbOffColor;var n=bulbConfigArr[e][a];context.beginPath(),context.arc(n.x,n.y,bulbRadius,0,twoPi),context.fill()}t=++t===textDataArr.length?0:t}textDataArrOffset=++textDataArrOffset===textDataArr.length?0:textDataArrOffset,setTimeout(r,1e3/dispScrollSpeed)},initGround=function(){resetTextArr(),renderDisp()};